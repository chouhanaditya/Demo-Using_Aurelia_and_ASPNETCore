<template>
    <require from="./todo.css"></require>
    <div >
        <h3>To-Do List</h1>
        <ul class="list-group">
            <div class="row" >
                <div class="col-sm-2">
                    <h4>Status</h4>
                </div>
                <div class="col-sm-7">
                    <h4>Description</h4>
                </div>
                <div class="col-sm-3">
                    <h4>Action</h4>
                </div>
            </div>         
            <li class="list-group-item"  repeat.for="toDo of toDoList">
                    <div class="row">
                        <div class="col-sm-2">
                            <input type="checkbox" checked.bind="toDo.todo_Status" > Done
                        </div>
                        <div class="col-sm-7">
                                <!-- <p class.bind="toDo.todo_Status == true?'completeToDo':'normalToDo'"
                                    if.bind="isEdit[$index] === false">
                                    class.bind="isEdit[$index] == true?'inEditMode':''">
                                    ${toDo.toDo_Description}
                                </p> -->
                                <input type="text" 
                                value.bind="toDo.toDo_Description" 
                                readonly.bind="isEdit[$index] === false" 
                                style="width:390px"
                                class.bind="isEdit[$index] == true?'inEditMode':''">  
                        </div>
                        <div class="col-sm-3">
                                <button type="button" class="btn-warning" click.delegate="isEdit[index] = true">
                                    <span class="glyphicon glyphicon-edit"></span>Edit
                                </button>
                                <button type="button" class="btn-danger" click.delegate="removeToDo(toDo.id)">
                                        <span class="glyphicon glyphicon-remove-circle"></span>Delete
                                </button>
                        </div>   
                    </div>                        
            </li>                          
        </ul>
        <button type="button" class="btn-primary" click.trigger="isNewTodo = !isNewTodo">
                <span class="glyphicon glyphicon-plus-sign"></span>Add new
        </button>
        <br>
        <br>
        <div class="panel panel-primary" if.bind="isNewTodo === true">           
                <div class="panel-heading">
                        New To-Do
                </div>
                <div class="panel-body">
                    <form role="form" submit.trigger="addToDo()">  
                        <div class="row">
                                <label class="form-inline">Enter description: </label>
                                <textarea rows="2" style="width:500px" value.bind="new_todo_description"></textarea> 
                        </div>         
                       
                       <div class="row">
                            <label class="form-inline">Status: </label> 
                            <input type="checkbox" checked.bind="new_todo_status"> Done
                        </div>
                        <br>
                        <button type="submit" class="btn-success" >Save</button>
                    </form>        
                </div>
          </div>
    </div>
</template>